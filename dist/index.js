"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),a=function(t){var a=t.children,r=t.index,o=t.isVisible,i=t.shouldPreload,c=t.width,u=t.className,l=void 0===u?"":u,s=e.useState(o||i),d=s[0],f=s[1];e.useEffect((function(){(o||i)&&f(!0)}),[o,i]);var v={width:"number"==typeof c?"".concat(c,"px"):c,flexShrink:0,boxSizing:"border-box"};return n.default.createElement("div",{className:"carousel-item ".concat(l),style:v,"data-index":r},d?a:n.default.createElement("div",{style:{height:"100%",width:"100%"}}))},r=function(t){var r=t.children,o=t.itemsPerView,i=void 0===o?1:o,c=t.spacing,u=void 0===c?10:c,l=t.lazyLoad,s=void 0===l||l,d=t.preloadItems,f=void 0===d?1:d,v=t.infinite,m=void 0!==v&&v,h=t.autoPlay,b=void 0!==h&&h,p=t.autoPlayInterval,x=void 0===p?3e3:p,E=t.className,M=void 0===E?"":E,y=t.showIndicators,N=void 0===y||y,k=t.showNavigation,w=void 0===k||k,C=t.onSlideChange,S=e.useState(0),g=S[0],I=S[1],P=e.useState(0),X=P[0],z=P[1],L=e.useState(!1),R=L[0],T=L[1],V=e.useState(0),j=V[0],A=V[1],_=e.useState(0),q=_[0],D=_[1],G=e.useRef(null),O=e.useRef(null),U=e.useRef(null),W=n.default.Children.toArray(r),B=W.length,F=Math.ceil(B-i)+1,H=e.useCallback((function(){return X?(X-u*(Math.floor(i)-1))/i:0}),[X,i,u])();e.useEffect((function(){var e=function(){G.current&&z(G.current.offsetWidth)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),e.useEffect((function(){return b&&!R&&(U.current=setInterval((function(){Q()}),x)),function(){U.current&&clearInterval(U.current)}}),[b,x,g,R]);var J=function(e){return e>=g&&e<g+i},K=function(e){if(!s)return!0;var t=Math.max(0,g-f),n=Math.min(B-1,g+i+f);return e>=t&&e<=n},Q=e.useCallback((function(){I((function(e){var t=e+1;return t>B-i?m?0:B-i:t}))}),[m,i,B]),Y=e.useCallback((function(){I((function(e){var t=e-1;return t<0?m?B-i:0:t}))}),[m,i,B]),Z=e.useCallback((function(e){var t=Math.max(0,Math.min(e,B-i));I(t),C&&C(t)}),[i,C,B]),$=function(){R&&(T(!1),Math.abs(q)>H/3&&(q>0?Y():Q()),D(0))},ee={transform:"translateX(".concat(-g*(H+u)+q,"px)"),transition:R?"none":"transform 0.3s ease",display:"flex",gap:"".concat(u,"px")};return n.default.createElement("div",{className:"carousel-container ".concat(M),ref:G},n.default.createElement("div",{className:"carousel-track-container",onMouseDown:function(e){T(!0),A(e.clientX),U.current&&clearInterval(U.current)},onMouseMove:function(e){if(R){var t=e.clientX;D(t-j)}},onMouseUp:$,onMouseLeave:$,onTouchStart:function(e){T(!0),A(e.touches[0].clientX),U.current&&clearInterval(U.current)},onTouchMove:function(e){if(R){var t=e.touches[0].clientX;D(t-j)}},onTouchEnd:$},n.default.createElement("div",{className:"carousel-track",ref:O,style:ee},W.map((function(e,t){return n.default.createElement(a,{key:t,index:t,isVisible:J(t),shouldPreload:K(t),width:H},e)})))),w&&F>1&&n.default.createElement("div",{className:"carousel-navigation"},n.default.createElement("button",{className:"carousel-nav-button prev",onClick:Y,disabled:!m&&0===g,"aria-label":"Previous slide"},"<"),n.default.createElement("button",{className:"carousel-nav-button next",onClick:Q,disabled:!m&&g>=B-i,"aria-label":"Next slide"},">")),N&&F>1&&n.default.createElement("div",{className:"carousel-indicators"},Array.from({length:F}).map((function(e,t){return n.default.createElement("button",{key:t,className:"carousel-indicator ".concat(t===Math.floor(g)?"active":""),onClick:function(){return Z(t)},"aria-label":"Go to slide ".concat(t+1)})}))))};exports.Carousel=r,exports.CarouselItem=a,exports.default=r;
//# sourceMappingURL=index.js.map
