import e,{useState as n,useEffect as t,useRef as a,useCallback as r}from"react";var o=function(a){var r=a.children,o=a.index,i=a.isVisible,c=a.shouldPreload,l=a.width,u=a.className,s=void 0===u?"":u,d=n(i||c),v=d[0],f=d[1];t((function(){(i||c)&&f(!0)}),[i,c]);var m={width:"number"==typeof l?"".concat(l,"px"):l,flexShrink:0,boxSizing:"border-box"};return e.createElement("div",{className:"carousel-item ".concat(s),style:m,"data-index":o},v?r:e.createElement("div",{style:{height:"100%",width:"100%"}}))},i=function(i){var c=i.children,l=i.itemsPerView,u=void 0===l?1:l,s=i.spacing,d=void 0===s?10:s,v=i.lazyLoad,f=void 0===v||v,m=i.preloadItems,h=void 0===m?1:m,b=i.infinite,x=void 0!==b&&b,p=i.autoPlay,E=void 0!==p&&p,M=i.autoPlayInterval,N=void 0===M?3e3:M,w=i.className,y=void 0===w?"":w,g=i.showIndicators,k=void 0===g||g,I=i.showNavigation,P=void 0===I||I,C=i.onSlideChange,X=n(0),z=X[0],L=X[1],S=n(0),T=S[0],V=S[1],A=n(!1),D=A[0],G=A[1],U=n(0),W=U[0],j=U[1],q=n(0),B=q[0],F=q[1],H=a(null),J=a(null),K=a(null),O=e.Children.toArray(c),Q=O.length,R=Math.ceil(Q-u)+1,Y=r((function(){return T?(T-d*(Math.floor(u)-1))/u:0}),[T,u,d])();t((function(){var e=function(){H.current&&V(H.current.offsetWidth)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t((function(){return E&&!D&&(K.current=setInterval((function(){_()}),N)),function(){K.current&&clearInterval(K.current)}}),[E,N,z,D]);var Z=function(e){return e>=z&&e<z+u},$=function(e){if(!f)return!0;var n=Math.max(0,z-h),t=Math.min(Q-1,z+u+h);return e>=n&&e<=t},_=r((function(){L((function(e){var n=e+1;return n>Q-u?x?0:Q-u:n}))}),[x,u,Q]),ee=r((function(){L((function(e){var n=e-1;return n<0?x?Q-u:0:n}))}),[x,u,Q]),ne=r((function(e){var n=Math.max(0,Math.min(e,Q-u));L(n),C&&C(n)}),[u,C,Q]),te=function(){D&&(G(!1),Math.abs(B)>Y/3&&(B>0?ee():_()),F(0))},ae={transform:"translateX(".concat(-z*(Y+d)+B,"px)"),transition:D?"none":"transform 0.3s ease",display:"flex",gap:"".concat(d,"px")};return e.createElement("div",{className:"carousel-container ".concat(y),ref:H},e.createElement("div",{className:"carousel-track-container",onMouseDown:function(e){G(!0),j(e.clientX),K.current&&clearInterval(K.current)},onMouseMove:function(e){if(D){var n=e.clientX;F(n-W)}},onMouseUp:te,onMouseLeave:te,onTouchStart:function(e){G(!0),j(e.touches[0].clientX),K.current&&clearInterval(K.current)},onTouchMove:function(e){if(D){var n=e.touches[0].clientX;F(n-W)}},onTouchEnd:te},e.createElement("div",{className:"carousel-track",ref:J,style:ae},O.map((function(n,t){return e.createElement(o,{key:t,index:t,isVisible:Z(t),shouldPreload:$(t),width:Y},n)})))),P&&R>1&&e.createElement("div",{className:"carousel-navigation"},e.createElement("button",{className:"carousel-nav-button prev",onClick:ee,disabled:!x&&0===z,"aria-label":"Previous slide"},"<"),e.createElement("button",{className:"carousel-nav-button next",onClick:_,disabled:!x&&z>=Q-u,"aria-label":"Next slide"},">")),k&&R>1&&e.createElement("div",{className:"carousel-indicators"},Array.from({length:R}).map((function(n,t){return e.createElement("button",{key:t,className:"carousel-indicator ".concat(t===Math.floor(z)?"active":""),onClick:function(){return ne(t)},"aria-label":"Go to slide ".concat(t+1)})}))))};export{i as Carousel,o as CarouselItem,i as default};
//# sourceMappingURL=index.esm.js.map
